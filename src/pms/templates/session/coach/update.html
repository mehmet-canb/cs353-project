<!DOCTYPE html>
<html lang="en">
{% include "head.html" %}

<body class="bg-light">
    {% include "nav.html" %}

    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-5">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-5">
                        <div class="text-center mb-4">
                            <h2 class="mt-3 mb-4">Update Session</h2>
                        </div>
                        <form method="POST">
                            <input type="hidden" name="original_session_name" value="{{ session.session_name }}">
                            <input type="hidden" name="original_session_date" value="{{ session.session_date }}">
                            <input type="hidden" name="original_start_hour" value="{{ session.start_hour }}">
                            <input type="hidden" name="original_end_hour" value="{{ session.end_hour }}">
                            <input type="hidden" name="session_type" value="{{ session_type }}">

                            <div class="mb-3">
                                <label for="session_name" class="form-label">Session Name*</label>
                                <input type="text" class="form-control" id="session_name" name="session_name" value="{{ session.session_name }}" required>
                            </div>
                            <div class="mb-3">
                                <label for="session_date" class="form-label">Session Date*</label>
                                <input type="date" class="form-control" id="session_date" name="session_date" value="{{ session.session_date }}" required>
                            </div>
                            <div class="mb-3">
                                <label for="start_hour" class="form-label">Start Hour*</label>
                                <input type="time" class="form-control" id="start_hour" name="start_hour" value="{{ session.start_hour }}" required>
                            </div>
                            <div class="mb-3">
                                <label for="end_hour" class="form-label">End Hour*</label>
                                <input type="time" class="form-control" id="end_hour" name="end_hour" value="{{ session.end_hour }}" required>
                            </div>
                            <div class="mb-3">
                                <label for="price" class="form-label">Price</label>
                                <input type="number" step="0.01" class="form-control" id="price" name="price" value="{{ session.price }}">
                            </div>

                            {% if session_type == 'one_to_one_session' %}
                            <div class="mb-3">
                                <label for="special_request" class="form-label">Special Request</label>
                                <textarea class="form-control" id="special_request" name="special_request" rows="3">{{ session.special_request_comment }}</textarea>
                            </div>
                            {% endif %}

                            {% if session_type == 'class_session' %}
                            <div class="mb-3">
                                <label for="age_group" class="form-label">Age Group*</label>
                                <input type="text" class="form-control" id="age_group" name="age_group" value="{{ session.age_group }}" required>
                            </div>
                            <div class="mb-3">
                                <label for="max_capacity" class="form-label">Maximum Capacity*</label>
                                <input type="number" class="form-control" id="max_capacity" name="max_capacity" value="{{ session.max_capacity }}" required>
                            </div>
                            <div class="mb-3">
                                <label for="class_level" class="form-label">Class Level*</label>
                                <input type="text" class="form-control" id="class_level" name="class_level" value="{{ session.class_level }}" required>
                            </div>
                            <div class="mb-3">
                                <label for="signup_date" class="form-label">Signup Deadline*</label>
                                <input type="date" class="form-control" id="signup_date" name="signup_date" value="{{ session.signup_date }}" required>
                            </div>
                            {% endif %}

                            {% if session_type == 'race' %}
                            <div class="mb-3">
                                <label for="comp_age_group" class="form-label">Age Group*</label>
                                <input type="text" class="form-control" id="comp_age_group" name="comp_age_group" value="{{ session.age_group }}" required>
                            </div>
                            <div class="mb-3">
                                <label for="stroke_style" class="form-label">Stroke Style*</label>
                                <select class="form-select" id="stroke_style" name="stroke_style">
                                    <option value="freestyle" {% if session.stroke_style == 'freestyle' %}selected{% endif %}>Freestyle</option>
                                    <option value="backstroke" {% if session.stroke_style == 'backstroke' %}selected{% endif %}>Backstroke</option>
                                    <option value="breaststroke" {% if session.stroke_style == 'breaststroke' %}selected{% endif %}>Breaststroke</option>
                                    <option value="butterfly" {% if session.stroke_style == 'butterfly' %}selected{% endif %}>Butterfly</option>
                                </select>
                            </div>
                            {% endif %}

                            {% if session_type == 'individual_session' %}
                            <div class="mb-3">
                                <label for="number_of_months" class="form-label">Number of Months</label>
                                <input type="number" class="form-control" id="number_of_months" name="number_of_months" value="{{ session.number_of_months }}">
                            </div>
                            {% endif %}

                            <button type="submit" class="btn btn-primary">Update Session</button>
                        </form>

                        {% if error %}
                        <div class="alert alert-danger mt-3" role="alert">
                            {{ error }}
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% include "footer.html" %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
